---
title: "Idependent t-tests"
subtitle: "Tests Between the Means of Different Groups"
author: "Pablo E. Gutierrez-Fonseca"
institute: "UVM"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: [default, "css/nhsr.css", "css/nhsr-fonts.css", "css/custom.css"]
    nature:
      highlightLanguage: ["r"]
      countIncrementalSlides: false
      highlightStyle: github
      highlightLines: true
      ratio: "16:9"
    includes:
      after_body:
xaringanExtra:
    use_panelset: true
---


```{r xaringan-logo, echo=FALSE, warning=FALSE}
library(xaringanExtra)
xaringanExtra::use_logo(
  image_url = "logo.png")
```

# When would you run a t-test?

- You have a continuous response variable.

- You want to test for a **difference between two sample means**: considering the variance within each group, do the groups belong to two distinct populations, or not?

- Data is **normally distributed** and both groups have approximately **equal variance**. 

- If the groups are **not related** in any way = **Independent t-test**

- If the groups are **related (paired)** = Dependent t-test (or matched pairs t-test).


---

# Independent vs. Dependent groups

How do I know if my samples are independent or dependent?  

Can you tell exactly which observation should be paired with which other observation?  If you canâ€™t tell, your groups are independent

.pull-left[
**Examples of Independent Samples**

1. Treated and untreated, randomly located plots.
2. Monitoring sites set up with Systematic (grid) sampling.
3. Infested and uninfested forest stands selected with stratified random sampling.
]

.pull-right[
**Examples of Dependent Samples**

1. Before and After data taken on the same observation.
2. Paired watersheds / plots.
3. Parent / offspring studies.
4. Twin studies / partner studies. 
]

---

# Independent vs. Dependent groups

.pull-left[
**Independent t-test** quantifies the difference between sample means (numerator) vs. the amount of variability in the samples (denominator). 


$$
t = \frac{\bar{X}_1 - \bar{X}_2}{\sqrt{\frac{(n_1 - 1)s_1^2 + (n_2 - 1)s_2^2}{n_1 + n_2 - 2} \left( \frac{1}{n_1} + \frac{1}{n_2} \right)}}
$$
DF (for the critical value)= (n1 + n2)-2

]


.pull-right[
**Dependent t-test** quantifies the magnitude of the difference between paired observations (numerator) vs. the amount of variability in the samples (denominator).

$$
t = \frac{\sum D}{\sqrt{\frac{n \sum D^2 - (\sum D)^2}{n-1}}}
$$

DF (for the critical value) = n-1    
where n is the number of paired observations


]

---

# Basic Steps for an Inferential t-Test

.pull-left[ 

```{r, eval=F}
t.test(x= , y = ,
       mu = 0, 
       paired = , 
       var.equal= .
       alternative = c("two.sided", "less", "greater"))

```



```{r, eval=F}
wilcox.testt(x= , y = ,
       mu = 0, 
       paired = , 
       var.equal= .
       alternative = c("two.sided", "less", "greater"))

```

]


.pull-right[ 
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(DiagrammeR)
mermaid("
graph TD;
    A[Normally distribute data?]--Yes--> B[t.test]
    A[Normally distribute data?]--No--> C[wilcox.test]
    
")
```
]


---

# Basic Steps for an Inferential t-Test


.pull-left[ 
```{r, eval=F}
t.test(x= , y = ,
       mu = 0, 
       paired = , #<<
       var.equal= ,
       alternative = c("two.sided", "less", "greater"))

```
]


.pull-right[ 

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(DiagrammeR)
mermaid("
graph TD;
    A[Paired?]--Yes--> B[Dependend t-test, use paired=TRUE]
    A[Paired?]--No--> C[Independend t-test, use paired=FALSE]
    
")
```
]


---

# Basic Steps for an Inferential t-Test


.pull-left[ 
```{r, eval=F}
t.test(x= , y = ,
       alternative = c("two.sided", "less", "greater"),
       mu = 0, 
       paired = , 
       var.equal= , #<<
       alternative = c("two.sided", "less", "greater"))
```
]


.pull-right[ 
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(DiagrammeR)
mermaid("
graph TD;
    A[Equal variance?] -->|Yes| B[Set var.equal to TRUE];
    A -->|No| C[Set var.equal to FALSE];
")
```
]


---

# Basic Steps for an Inferential t-Test


.pull-left[ 
```{r, eval=F}
t.test(x= , y = ,
       alternative = c("two.sided", "less", "greater"),
       mu = 0, 
       paired = , 
       var.equal= , 
       alternative = c("two.sided", "less", "greater"))#<<
```
]


.pull-right[ 
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(DiagrammeR)
mermaid("
graph TD;
    A[Two-sided?] -->|Yes| B[Use alternative = 'less'];
    A -->|Yes| C[Use alternative = 'greater'];
    A -->|No| D[Use alternative = 'two.sided'];
")
```
]


---

# Effect Size (Cohen's)

- Effect size is a measure of how different two groups are from one another.


.pull-left[
**Independent t-test**


$$
ES = \frac{\bar{X}_1 - \bar{X}_2}{SD}
$$

]


.pull-right[
**Dependent t-test** 
$$
ES = \frac{\bar{X}_D}{SD}
$$
Where:
\(\bar{X}_D\) is the mean of the differences between paired observations, and \(s_D\) is the standard deviation of the differences.



]



---

# Effect Size (Cohen's)

- Effect size is a measure of how different two groups are from one another.


.pull-left[
**Independent t-test**


$$
ES = \frac{\bar{X}_1 - \bar{X}_2}{SD}
$$

<br>
<br>
<br>

- Cohen's ES (d)  
  - Small = 0.0 - .20  
  - Medium = 0.20 - 0.50  
  - Large = 0.50 and above  



]


.pull-right[
**Dependent t-test** 
$$
ES = \frac{\bar{X}_D}{SD}
$$
Where:
\(\bar{X}_D\) is the mean of the differences between paired observations, and \(s_D\) is the standard deviation of the differences.



]


---
